<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>コマンドライン引数ことはじめ | ayasuda.github.io</title><meta name=keywords content="Golang,String,Rune"><meta name=description content="コマンドライン引数は、プログラムの実行時に追加情報を与えるやり方の一つです。 と、言ってもわかりにくいですかね？ Unix や Linux といった OS では、コマンド"><meta name=author content="ayasuda"><link rel=canonical href=https://ayasuda.github.io/pages/what_is_command_line_argument/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://ayasuda.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ayasuda.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ayasuda.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://ayasuda.github.io/apple-touch-icon.png><link rel=mask-icon href=https://ayasuda.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-138223597-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="コマンドライン引数ことはじめ"><meta property="og:description" content="コマンドライン引数は、プログラムの実行時に追加情報を与えるやり方の一つです。 と、言ってもわかりにくいですかね？ Unix や Linux といった OS では、コマンド"><meta property="og:type" content="article"><meta property="og:url" content="https://ayasuda.github.io/pages/what_is_command_line_argument/"><meta property="article:section" content="pages"><meta property="article:published_time" content="2022-07-23T00:00:00+00:00"><meta property="article:modified_time" content="2022-07-23T00:00:00+00:00"><meta property="og:site_name" content="ayasuda.gihtub.io"><meta name=twitter:card content="summary"><meta name=twitter:title content="コマンドライン引数ことはじめ"><meta name=twitter:description content="コマンドライン引数は、プログラムの実行時に追加情報を与えるやり方の一つです。 と、言ってもわかりにくいですかね？ Unix や Linux といった OS では、コマンド"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Pages","item":"https://ayasuda.github.io/pages/"},{"@type":"ListItem","position":3,"name":"コマンドライン引数ことはじめ","item":"https://ayasuda.github.io/pages/what_is_command_line_argument/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"コマンドライン引数ことはじめ","name":"コマンドライン引数ことはじめ","description":"コマンドライン引数は、プログラムの実行時に追加情報を与えるやり方の一つです。 と、言ってもわかりにくいですかね？ Unix や Linux といった OS では、コマンド","keywords":["Golang","String","Rune"],"articleBody":"コマンドライン引数は、プログラムの実行時に追加情報を与えるやり方の一つです。\nと、言ってもわかりにくいですかね？\nUnix や Linux といった OS では、コマンドラインからプログラムを実行する際に以下のように引数を指定することができます。\n$ rm hoge.txt # rm に 'hoge.txt' という引数を渡している $ ls -l # ls に '-l' という引数を渡している $ git status # git に 'status' という引数を渡している この、 rm コマンドに渡している hoge.txt や、 ls コマンドに渡している -l や、git コマンドに渡している status がコマンドライン引数です。\nざっくりした全体像　よくあるコマンドライン引数の使われ方としては、\nrm hoge.txt のように、プログラムに具体的な処理対象を渡す ls -l のように、プログラムの実行時の挙動を少しだけ変えるようなオプションを渡す git status のように、サブコマンドを渡す と言った用途が見られます。\n・・・が、基本的には OS やプログラムによって流儀はまちまち です。\n本文書では、 Windows や Plan 9 など、 Unix/Linux 系以外の OS については言及しません。（詳しくないので・・・）\nプログラムによって流儀がまちまちとはどういうことでしょうか？ 実に当たり前なのですが、プログラムの作者はコマンドライン引数を どうとでも できます。例えば無視しても良いですし、 他のプログラムに移譲しても構いません。 そんなわけで、一般的には以下のルールに習慣的に従って作られています、が、このルールを無視するプログラムも書くことができます。\n引数 - 具体的な操作対象を渡す コマンドライン引数の最もわかりやすい使われ方は、コマンドの具体的な操作対象を引数としてコマンドに渡す 使い方です。 例えば、 rm はファイルを削除するコマンドで、引数として削除対象ファイルを取ります。\n$ rm hoge.txt # rm に削除対象である `hoge.txt` をコマンドライン引数として渡している mv はファイルを移動するコマンドで、引数として移動元のファイルと、移動先の新しいファイル名を取ります。\n$ mv from.txt path/to/new.txt このように、各種コマンドに具体的な操作対象をコマンドライン引数で渡すのが最も一般的な使われ方です。ファイル名以外にも、例えば expr コマンドに計算式を渡せば簡単な四則演算が行えます。\n$ expr 47 - 20 27 sleep コマンドは指定秒数コマンドライン入力をストップさせるコマンドですが引数として待機する秒数を取ります\n$ sleep 5 # 5 秒、コマンドライン入力がストップする コマンド・プログラムによって、コマンドライン引数として幾つの値をとるのかはまちまちですが、 そのコマンドにとって最も重要な引数はコマンドライン引数経由で渡すのが一般的となっています。\nオプション - プログラムの動作を変更する コマンドライン引数としてオプションを渡すのも一般的な方法です。 オプションは、コマンドの動作を一部変更する ために用いられるのが一般的で、Unix/Linux 系の OS では - はオプションの開始として用いられます。\n例えば、ls コマンドはディレクトリ中のファイル一覧を表示するコマンドですが、 -l オプションを指定することで、それぞれのファイルの詳細情報を追加で表示することができます。\n$ ls # 通常は、そのディレクトリ中にあるファイルの一覧を表示する foo bar baz $ ls -l # `-l` オプションを追加することで、ファイルの詳細情報を追加で表示する -rw-r-r-- john john 47 12 24 18:00 foo -rw-r-r-- john john 47 8 9 2:230 bar -rw-r-r-- john john 47 2 29 23:59 baz - と英数字１文字で構成されるオプションを ショートオプション、 -- と英単語で構成されるオプションを ロングオプション と呼称することもあります。 どちらか一方しかない場合もありますし、同じオプションがそれぞれの形式で用意されている親切なプログラムもあります。\nオプションも引数を取るものがあり、例えば sudo --user=USER のように、 = で引数を指定するものなどがあります。\nまた、単に -- を入力させ、以降に続く文字をそのプログラムのオプションとして扱わせないようにするものもあります。 例えば sudo --user USER1 -- foo --user USER2 の様に、 sudo 自身には --user USER1 を指定しつつ、 -- により、以降の文字列は sudo への引数とすることで foo には --user USER2 を与える、と言った用途に用いられます。\nサブコマンド - カバー範囲を増やす 細かな操作の違いをサブコマンドとして提供するプログラムも数多くあります。\n例えば、 git コマンドには数多くのサブコマンドが用意されています。\n$ git init # リポジトリを初期化する $ git commit # 新しくコミットする サブコマンド自体にもそれぞれ引数やオプションを取れるようにすることも一般的です。\n各言語でのコマンドライン引数　制御 各言語でのコマンドライン引数処理の実装例を、個別のページに記しました。 適宜、読んでいただければ幸いです。\nGo 言語でのコマンドライン引数処理 C 言語でのシグナル処理 (tbd) ruby でのシグナル処理 (tbd) Java でのシグナル処理 (tbd) ","wordCount":"1900","inLanguage":"en","datePublished":"2022-07-23T00:00:00Z","dateModified":"2022-07-23T00:00:00Z","author":{"@type":"Person","name":"ayasuda"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://ayasuda.github.io/pages/what_is_command_line_argument/"},"publisher":{"@type":"Organization","name":"ayasuda.github.io","logo":{"@type":"ImageObject","url":"https://ayasuda.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ayasuda.github.io accesskey=h title="ayasuda.github.io (Alt + H)">ayasuda.github.io</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://ayasuda.github.io/pages/ title=Posts><span>Posts</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ayasuda.github.io>Home</a>&nbsp;»&nbsp;<a href=https://ayasuda.github.io/pages/>Pages</a></div><h1 class=post-title>コマンドライン引数ことはじめ</h1><div class=post-meta><span title='2022-07-23 00:00:00 +0000 UTC'>2022-07-23</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;1900 words&nbsp;·&nbsp;ayasuda</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#引数---具体的な操作対象を渡す>引数 - 具体的な操作対象を渡す</a></li><li><a href=#オプション---プログラムの動作を変更する>オプション - プログラムの動作を変更する</a></li><li><a href=#サブコマンド---カバー範囲を増やす>サブコマンド - カバー範囲を増やす</a></li></ul></nav></div></details></div><div class=post-content><p>コマンドライン引数は、プログラムの実行時に追加情報を与えるやり方の一つです。</p><p>と、言ってもわかりにくいですかね？</p><p>Unix や Linux といった OS では、コマンドラインからプログラムを実行する際に以下のように引数を指定することができます。</p><pre tabindex=0><code>$ rm hoge.txt # rm に &#39;hoge.txt&#39; という引数を渡している
$ ls -l # ls に &#39;-l&#39; という引数を渡している
$ git status # git に &#39;status&#39; という引数を渡している
</code></pre><p>この、 <code>rm</code> コマンドに渡している <code>hoge.txt</code> や、 <code>ls</code> コマンドに渡している <code>-l</code> や、<code>git</code> コマンドに渡している <code>status</code> がコマンドライン引数です。</p><h1 id=ざっくりした全体像>ざっくりした全体像　<a hidden class=anchor aria-hidden=true href=#ざっくりした全体像>#</a></h1><p>よくあるコマンドライン引数の使われ方としては、</p><ol><li><code>rm hoge.txt</code> のように、プログラムに具体的な処理対象を渡す</li><li><code>ls -l</code> のように、プログラムの実行時の挙動を少しだけ変えるようなオプションを渡す</li><li><code>git status</code> のように、サブコマンドを渡す</li></ol><p>と言った用途が見られます。</p><p>・・・が、基本的には <em>OS やプログラムによって流儀はまちまち</em> です。</p><p>本文書では、 Windows や Plan 9 など、 Unix/Linux 系以外の OS については言及しません。（詳しくないので・・・）</p><p>プログラムによって流儀がまちまちとはどういうことでしょうか？
実に当たり前なのですが、プログラムの作者はコマンドライン引数を <em>どうとでも</em> できます。例えば無視しても良いですし、
他のプログラムに移譲しても構いません。
そんなわけで、一般的には以下のルールに習慣的に従って作られています、が、このルールを無視するプログラムも書くことができます。</p><h2 id=引数---具体的な操作対象を渡す>引数 - 具体的な操作対象を渡す<a hidden class=anchor aria-hidden=true href=#引数---具体的な操作対象を渡す>#</a></h2><p>コマンドライン引数の最もわかりやすい使われ方は、<em>コマンドの具体的な操作対象を引数としてコマンドに渡す</em> 使い方です。
例えば、 <code>rm</code> はファイルを削除するコマンドで、引数として削除対象ファイルを取ります。</p><pre tabindex=0><code>$ rm hoge.txt # rm に削除対象である `hoge.txt` をコマンドライン引数として渡している
</code></pre><p><code>mv</code> はファイルを移動するコマンドで、引数として移動元のファイルと、移動先の新しいファイル名を取ります。</p><pre tabindex=0><code>$ mv from.txt path/to/new.txt
</code></pre><p>このように、各種コマンドに具体的な操作対象をコマンドライン引数で渡すのが最も一般的な使われ方です。ファイル名以外にも、例えば <code>expr</code> コマンドに計算式を渡せば簡単な四則演算が行えます。</p><pre tabindex=0><code>$ expr 47 - 20
27
</code></pre><p><code>sleep</code> コマンドは指定秒数コマンドライン入力をストップさせるコマンドですが引数として待機する秒数を取ります</p><pre tabindex=0><code>$ sleep 5 # 5 秒、コマンドライン入力がストップする
</code></pre><p>コマンド・プログラムによって、コマンドライン引数として幾つの値をとるのかはまちまちですが、
そのコマンドにとって最も重要な引数はコマンドライン引数経由で渡すのが一般的となっています。</p><h2 id=オプション---プログラムの動作を変更する>オプション - プログラムの動作を変更する<a hidden class=anchor aria-hidden=true href=#オプション---プログラムの動作を変更する>#</a></h2><p>コマンドライン引数としてオプションを渡すのも一般的な方法です。
オプションは、<em>コマンドの動作を一部変更する</em> ために用いられるのが一般的で、Unix/Linux 系の OS では <code>-</code> はオプションの開始として用いられます。</p><p>例えば、<code>ls</code> コマンドはディレクトリ中のファイル一覧を表示するコマンドですが、 <code>-l</code> オプションを指定することで、それぞれのファイルの詳細情報を追加で表示することができます。</p><pre tabindex=0><code>$ ls # 通常は、そのディレクトリ中にあるファイルの一覧を表示する
foo bar baz
$ ls -l # `-l` オプションを追加することで、ファイルの詳細情報を追加で表示する
-rw-r-r-- john john  47 12 24 18:00 foo
-rw-r-r-- john john  47  8  9  2:230 bar
-rw-r-r-- john john  47  2 29 23:59 baz
</code></pre><p><code>-</code> と英数字１文字で構成されるオプションを <em>ショートオプション</em>、 <code>--</code> と英単語で構成されるオプションを <em>ロングオプション</em> と呼称することもあります。
どちらか一方しかない場合もありますし、同じオプションがそれぞれの形式で用意されている親切なプログラムもあります。</p><p>オプションも引数を取るものがあり、例えば <code>sudo --user=USER</code> のように、 <code>=</code> で引数を指定するものなどがあります。</p><p>また、単に <code>--</code> を入力させ、以降に続く文字をそのプログラムのオプションとして扱わせないようにするものもあります。
例えば <code>sudo --user USER1 -- foo --user USER2</code> の様に、 <code>sudo</code> 自身には <code>--user USER1</code> を指定しつつ、
<code>--</code> により、以降の文字列は <code>sudo</code> への引数とすることで <code>foo</code> には <code>--user USER2</code> を与える、と言った用途に用いられます。</p><h2 id=サブコマンド---カバー範囲を増やす>サブコマンド - カバー範囲を増やす<a hidden class=anchor aria-hidden=true href=#サブコマンド---カバー範囲を増やす>#</a></h2><p>細かな操作の違いをサブコマンドとして提供するプログラムも数多くあります。</p><p>例えば、 <code>git</code> コマンドには数多くのサブコマンドが用意されています。</p><pre tabindex=0><code>$ git init # リポジトリを初期化する
$ git commit # 新しくコミットする
</code></pre><p>サブコマンド自体にもそれぞれ引数やオプションを取れるようにすることも一般的です。</p><h1 id=各言語でのコマンドライン引数制御>各言語でのコマンドライン引数　制御<a hidden class=anchor aria-hidden=true href=#各言語でのコマンドライン引数制御>#</a></h1><p>各言語でのコマンドライン引数処理の実装例を、個別のページに記しました。
適宜、読んでいただければ幸いです。</p><ul><li><a href=/snippet_golang_signal>Go 言語でのコマンドライン引数処理</a></li><li>C 言語でのシグナル処理 (tbd)</li><li>ruby でのシグナル処理 (tbd)</li><li>Java でのシグナル処理 (tbd)</li></ul></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://ayasuda.github.io/pages/snippet_golang_flag/><span class=title>« Prev</span><br><span>Go 言語でのコマンドライン引数処理</span></a>
<a class=next href=https://ayasuda.github.io/pages/snippet_golang_signal/><span class=title>Next »</span><br><span>Go 言語でのシグナル処理</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://ayasuda.github.io>ayasuda.github.io</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>